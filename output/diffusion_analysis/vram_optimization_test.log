2025-05-24 02:11:34,020 - INFO - VRAM Optimization Testing Started
2025-05-24 02:11:34,020 - INFO - System Info: {
  "timestamp": "2025-05-24T02:11:33.964561",
  "cpu_count": 16,
  "total_ram_gb": 31.16,
  "python_version": "3.12.3",
  "torch_version": "2.6.0+cu124",
  "cuda_available": true,
  "cuda_version": "12.4",
  "gpu_count": 1,
  "gpu_devices": [
    {
      "device_id": 0,
      "name": "NVIDIA GeForce RTX 3060",
      "total_memory_gb": 11.63,
      "major": 8,
      "minor": 6
    }
  ]
}
2025-05-24 02:11:34,020 - INFO - 
ðŸš€ Starting VRAM optimization testing
2025-05-24 02:11:34,020 - INFO - Configurations to test: 3
2025-05-24 02:11:34,020 - INFO - Quick test mode: True
2025-05-24 02:11:34,020 - INFO - 
[1/3] Testing: baseline_sd_food
2025-05-24 02:11:34,020 - INFO - 
================================================================================
2025-05-24 02:11:34,020 - INFO - Testing Configuration: baseline_sd_food
2025-05-24 02:11:34,020 - INFO - Description: Baseline sd-food model with basic optimizations
2025-05-24 02:11:34,020 - INFO - Model: sd-food, Size: 512px, Batch: 1
2025-05-24 02:11:34,020 - INFO - ================================================================================
2025-05-24 02:11:34,157 - INFO - Loading model: runwayml/stable-diffusion-v1-5
2025-05-24 02:13:09,879 - WARNING - Could not enable XFormers: Refer to https://github.com/facebookresearch/xformers for more information on how to install xformers
2025-05-24 02:13:09,879 - INFO - Model loaded in 95.7s
2025-05-24 02:13:13,761 - INFO - Image 1: 3.9s, VRAM: 2.584GB (peak: 3.180GB)
2025-05-24 02:13:17,320 - INFO - Image 2: 3.5s, VRAM: 2.584GB (peak: 3.180GB)
2025-05-24 02:13:20,855 - INFO - Image 3: 3.5s, VRAM: 2.584GB (peak: 3.180GB)
2025-05-24 02:13:20,917 - INFO - âœ… Configuration baseline_sd_food completed successfully
2025-05-24 02:13:20,917 - INFO -    Peak VRAM: 3.180GB
2025-05-24 02:13:20,917 - INFO -    Avg generation time: 3.6s
2025-05-24 02:13:20,917 - INFO -    Images generated: 3
2025-05-24 02:13:21,136 - INFO - Progress: 1/3 completed (1 successful)
2025-05-24 02:13:21,137 - INFO - 
[2/3] Testing: max_optimized_sd_food
2025-05-24 02:13:21,137 - INFO - 
================================================================================
2025-05-24 02:13:21,137 - INFO - Testing Configuration: max_optimized_sd_food
2025-05-24 02:13:21,137 - INFO - Description: sd-food with maximum memory optimizations
2025-05-24 02:13:21,137 - INFO - Model: sd-food, Size: 512px, Batch: 1
2025-05-24 02:13:21,137 - INFO - ================================================================================
2025-05-24 02:13:21,268 - INFO - Loading model: runwayml/stable-diffusion-v1-5
2025-05-24 02:13:22,417 - WARNING - Could not enable XFormers: Refer to https://github.com/facebookresearch/xformers for more information on how to install xformers
2025-05-24 02:13:22,417 - INFO - Model loaded in 1.1s
2025-05-24 02:13:33,352 - INFO - Image 1: 10.9s, VRAM: 0.575GB (peak: 1.173GB)
2025-05-24 02:13:43,867 - INFO - Image 2: 10.5s, VRAM: 0.575GB (peak: 1.173GB)
2025-05-24 02:13:54,304 - INFO - Image 3: 10.4s, VRAM: 0.575GB (peak: 1.173GB)
2025-05-24 02:13:54,358 - INFO - âœ… Configuration max_optimized_sd_food completed successfully
2025-05-24 02:13:54,358 - INFO -    Peak VRAM: 1.173GB
2025-05-24 02:13:54,358 - INFO -    Avg generation time: 10.6s
2025-05-24 02:13:54,358 - INFO -    Images generated: 3
2025-05-24 02:13:54,531 - INFO - Progress: 2/3 completed (2 successful)
2025-05-24 02:13:54,531 - INFO - 
[3/3] Testing: small_image_sd_food
2025-05-24 02:13:54,531 - INFO - 
================================================================================
2025-05-24 02:13:54,531 - INFO - Testing Configuration: small_image_sd_food
2025-05-24 02:13:54,532 - INFO - Description: sd-food with smaller image size (256px)
2025-05-24 02:13:54,532 - INFO - Model: sd-food, Size: 256px, Batch: 1
2025-05-24 02:13:54,532 - INFO - ================================================================================
2025-05-24 02:13:54,657 - INFO - Loading model: runwayml/stable-diffusion-v1-5
2025-05-24 02:13:55,725 - WARNING - Could not enable XFormers: Refer to https://github.com/facebookresearch/xformers for more information on how to install xformers
2025-05-24 02:13:55,725 - INFO - Model loaded in 1.1s
2025-05-24 02:13:56,757 - INFO - Image 1: 1.0s, VRAM: 2.584GB (peak: 2.734GB)
2025-05-24 02:13:57,783 - INFO - Image 2: 1.0s, VRAM: 2.584GB (peak: 2.734GB)
2025-05-24 02:13:58,808 - INFO - Image 3: 1.0s, VRAM: 2.584GB (peak: 2.734GB)
2025-05-24 02:13:58,821 - INFO - âœ… Configuration small_image_sd_food completed successfully
2025-05-24 02:13:58,821 - INFO -    Peak VRAM: 2.734GB
2025-05-24 02:13:58,821 - INFO -    Avg generation time: 1.0s
2025-05-24 02:13:58,821 - INFO -    Images generated: 3
2025-05-24 02:13:59,019 - INFO - Progress: 3/3 completed (3 successful)
2025-05-24 02:13:59,020 - INFO - 
ðŸ“Š Results saved to: output/diffusion_analysis/vram_optimization_test.json
